//
// :apps:sasquatch
//

evaluationDependsOn(':apps')

android {

    flavorDimensions "dependency"

    productFlavors {
        projectDependency {
            dimension "dependency"
            applicationIdSuffix ".project"
        }
        jcenterDependency {
            dimension "dependency"
            applicationIdSuffix ".jcenter"
        }
    }

    buildTypes {
        releaseProguard {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            matchingFallbacks = ['release']
        }
    }
}

repositories {
    maven {
        url "https://dl.bintray.com/vsappcenter/appcenter-snapshot"
    }
}

dependencies {
    implementation "com.android.support:support-v4:${rootProject.ext.supportLibVersion}"
    implementation "com.android.support:appcompat-v7:${rootProject.ext.supportLibVersion}"

    projectDependencyImplementation project(':sdk:appcenter-analytics')
    projectDependencyImplementation project(':sdk:appcenter-crashes')
    projectDependencyImplementation project(':sdk:appcenter-distribute')
    projectDependencyImplementation project(':sdk:appcenter-push')
    projectDependencyImplementation project(':sdk:appcenter-rum')

    def version = "1.0.0"
    //noinspection GradleDependency
    jcenterDependencyImplementation "com.microsoft.appcenter:appcenter-analytics:${version}"
    //noinspection GradleDependency
    jcenterDependencyImplementation "com.microsoft.appcenter:appcenter-crashes:${version}"
    //noinspection GradleDependency
    jcenterDependencyImplementation "com.microsoft.appcenter:appcenter-distribute:${version}"
    //noinspection GradleDependency
    jcenterDependencyImplementation "com.microsoft.appcenter:appcenter-push:${version}"

    /* Force usage this version of support annotations to avoid conflict. */
    androidTestImplementation "com.android.support:support-annotations:${rootProject.ext.supportLibVersion}"
    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'
    implementation 'com.android.support.test.espresso:espresso-idling-resource:3.0.1'
}

apply plugin: 'com.google.gms.google-services'
